# ╔══════════════════════════════════════════════════════════════╗
# ║  דוגמה 27: יוניקוד ותמיכה בעברית                              ║
# ║  Example 27: Unicode and Hebrew Support                       ║
# ╚══════════════════════════════════════════════════════════════╝

הדפס("╔══════════════════════════════════════════╗")
הדפס("║  🔤 יוניקוד ותמיכה בעברית               ║")
הדפס("╚══════════════════════════════════════════╝")

# ===== 1. תווים מיוחדים בעברית =====
הדפס("\n1️⃣ תווים מיוחדים בעברית:")
הדפס("═" * 40)

# אותיות סופיות
סופיות = {
    "כ": "ך",
    "מ": "ם",
    "נ": "ן",
    "פ": "ף",
    "צ": "ץ"
}

הדפס("אותיות סופיות:")
עבור רגיל בתוך סופיות:
    הדפס("  " + רגיל + " -> " + סופיות[רגיל])

# נקודות (ניקוד)
הדפס("\nדוגמאות ניקוד:")
מילים_מנוקדות = [
    "שָׁלוֹם",
    "עִבְרִית",
    "יִשְׂרָאֵל",
    "תּוֹרָה",
    "אֱמֶת"
]

עבור מילה בתוך מילים_מנוקדות:
    הדפס("  " + מילה)

# ===== 2. עבודה עם טקסט עברי =====
הדפס("\n2️⃣ עבודה עם טקסט עברי:")
הדפס("═" * 40)

הגדר הסר_ניקוד(טקסט):
    """הסרת ניקוד מטקסט עברי"""
    # טווחי יוניקוד של ניקוד עברי: 0x0591-0x05C7
    תוצאה = ""
    עבור תו בתוך טקסט:
        קוד = ord(תו)
        # אם לא בטווח הניקוד
        אם קוד < 0x0591 או קוד > 0x05C7:
            תוצאה = תוצאה + תו
    החזר תוצאה

הגדר האם_אות_עברית(תו):
    """בדיקה אם תו הוא אות עברית"""
    קוד = ord(תו)
    # אותיות עבריות: 0x05D0-0x05EA (א-ת)
    החזר 0x05D0 <= קוד <= 0x05EA

הגדר ספור_אותיות_עבריות(טקסט):
    """ספירת אותיות עבריות בטקסט"""
    מונה = 0
    עבור תו בתוך טקסט:
        אם האם_אות_עברית(תו):
            מונה = מונה + 1
    החזר מונה

# דוגמאות
טקסט_מנוקד = "שָׁלוֹם עוֹלָם"
הדפס("טקסט מנוקד: " + טקסט_מנוקד)
הדפס("ללא ניקוד: " + הסר_ניקוד(טקסט_מנוקד))

טקסט_מעורב = "Hello שלום World עולם 123"
הדפס("\nטקסט מעורב: " + טקסט_מעורב)
הדפס("אותיות עבריות: " + מחרוזת(ספור_אותיות_עבריות(טקסט_מעורב)))

# ===== 3. גימטריה =====
הדפס("\n3️⃣ גימטריה:")
הדפס("═" * 40)

ערכי_גימטריה = {
    "א": 1, "ב": 2, "ג": 3, "ד": 4, "ה": 5,
    "ו": 6, "ז": 7, "ח": 8, "ט": 9, "י": 10,
    "כ": 20, "ך": 20, "ל": 30, "מ": 40, "ם": 40,
    "נ": 50, "ן": 50, "ס": 60, "ע": 70, "פ": 80,
    "ף": 80, "צ": 90, "ץ": 90, "ק": 100, "ר": 200,
    "ש": 300, "ת": 400
}

הגדר חשב_גימטריה(מילה):
    """חישוב ערך גימטרי של מילה"""
    סכום = 0
    עבור תו בתוך מילה:
        אם תו בתוך ערכי_גימטריה:
            סכום = סכום + ערכי_גימטריה[תו]
    החזר סכום

הגדר מצא_גימטריה_שוות(מילה, רשימת_מילים):
    """מציאת מילים עם אותו ערך גימטרי"""
    ערך = חשב_גימטריה(מילה)
    תוצאות = []
    עבור מ בתוך רשימת_מילים:
        אם מ != מילה וגם חשב_גימטריה(מ) == ערך:
            תוצאות = תוצאות + [מ]
    החזר תוצאות

מילים_לבדיקה = ["שלום", "עולם", "אהבה", "אחד", "אמת", "תורה", "חיים", "ישראל"]

הדפס("ערכי גימטריה:")
עבור מילה בתוך מילים_לבדיקה:
    ערך = חשב_גימטריה(מילה)
    הדפס("  " + מילה + " = " + מחרוזת(ערך))

# מציאת מילים עם ערך שווה
הדפס("\nמילים עם גימטריה שווה:")
מילה_לחיפוש = "אהבה"
ערך = חשב_גימטריה(מילה_לחיפוש)
הדפס("  " + מילה_לחיפוש + " (" + מחרוזת(ערך) + "):")
עבור מ בתוך מילים_לבדיקה:
    אם מ != מילה_לחיפוש וגם חשב_גימטריה(מ) == ערך:
        הדפס("    = " + מ)

# ===== 4. אמוג'י ותווים מיוחדים =====
הדפס("\n4️⃣ אמוג'י ותווים מיוחדים:")
הדפס("═" * 40)

אמוג_י = {
    "שמש": "☀️",
    "ירח": "🌙",
    "כוכב": "⭐",
    "לב": "❤️",
    "אש": "🔥",
    "מים": "💧",
    "עץ": "🌳",
    "פרח": "🌸",
    "ישראל": "🇮🇱",
    "שלום": "✌️"
}

הדפס("מילון אמוג'י:")
עבור מילה בתוך אמוג_י:
    הדפס("  " + מילה + " -> " + אמוג_י[מילה])

# פונקציה להחלפת מילים באמוג'י
הגדר החלף_באמוג_י(טקסט):
    תוצאה = טקסט
    עבור מילה בתוך אמוג_י:
        אם מילה בתוך תוצאה:
            תוצאה = תוצאה.replace(מילה, אמוג_י[מילה])
    החזר תוצאה

משפט = "שמש וירח וכוכב בשמי ישראל"
הדפס("\nמשפט מקורי: " + משפט)
הדפס("עם אמוג'י: " + החלף_באמוג_י(משפט))

# ===== 5. דו-כיווניות (RTL/LTR) =====
הדפס("\n5️⃣ דו-כיווניות (BiDi):")
הדפס("═" * 40)

הגדר זהה_כיוון(טקסט):
    """זיהוי כיוון הטקסט הדומיננטי"""
    עברית = 0
    אנגלית = 0
    
    עבור תו בתוך טקסט:
        קוד = ord(תו)
        אם 0x05D0 <= קוד <= 0x05EA:  # אותיות עבריות
            עברית = עברית + 1
        אחרת_אם (65 <= קוד <= 90) או (97 <= קוד <= 122):  # אותיות אנגליות
            אנגלית = אנגלית + 1
    
    אם עברית > אנגלית:
        החזר "RTL (ימין לשמאל)"
    אחרת_אם אנגלית > עברית:
        החזר "LTR (שמאל לימין)"
    אחרת:
        החזר "מעורב"

טקסטים = [
    "שלום עולם",
    "Hello World",
    "שלום Hello עולם World",
    "123 מספרים Numbers"
]

עבור טקסט בתוך טקסטים:
    כיוון = זהה_כיוון(טקסט)
    הדפס("  \"" + טקסט + "\" -> " + כיוון)

# ===== 6. תמלול (טרנסליטרציה) =====
הדפס("\n6️⃣ תמלול עברית-אנגלית:")
הדפס("═" * 40)

תמלול_עברית = {
    "א": "'", "ב": "b", "ג": "g", "ד": "d", "ה": "h",
    "ו": "v", "ז": "z", "ח": "ch", "ט": "t", "י": "y",
    "כ": "k", "ך": "kh", "ל": "l", "מ": "m", "ם": "m",
    "נ": "n", "ן": "n", "ס": "s", "ע": "'", "פ": "p",
    "ף": "f", "צ": "tz", "ץ": "tz", "ק": "q", "ר": "r",
    "ש": "sh", "ת": "t"
}

הגדר תמלל(טקסט):
    """תמלול מעברית לאנגלית"""
    תוצאה = ""
    עבור תו בתוך טקסט:
        אם תו בתוך תמלול_עברית:
            תוצאה = תוצאה + תמלול_עברית[תו]
        אחרת:
            תוצאה = תוצאה + תו
    החזר תוצאה

מילים_לתמלול = ["שלום", "ישראל", "תל אביב", "ירושלים", "חיפה"]

עבור מילה בתוך מילים_לתמלול:
    הדפס("  " + מילה + " -> " + תמלל(מילה))

# ===== 7. מספרים עבריים =====
הדפס("\n7️⃣ מספרים עבריים:")
הדפס("═" * 40)

אותיות_מספרים = ["", "א", "ב", "ג", "ד", "ה", "ו", "ז", "ח", "ט"]
עשרות_מספרים = ["", "י", "כ", "ל", "מ", "נ", "ס", "ע", "פ", "צ"]
מאות_מספרים = ["", "ק", "ר", "ש", "ת", "תק", "תר", "תש", "תת", "תתק"]

הגדר מספר_לעברי(מספר):
    """המרת מספר לאותיות עבריות"""
    אם מספר < 1 או מספר > 999:
        החזר מחרוזת(מספר)
    
    מאות = מספר // 100
    עשרות = (מספר % 100) // 10
    יחידות = מספר % 10
    
    # טיפול במקרים מיוחדים
    אם עשרות == 1 וגם יחידות == 5:
        החזר מאות_מספרים[מאות] + "טו"
    אם עשרות == 1 וגם יחידות == 6:
        החזר מאות_מספרים[מאות] + "טז"
    
    החזר מאות_מספרים[מאות] + עשרות_מספרים[עשרות] + אותיות_מספרים[יחידות]

הדפס("המרת מספרים:")
עבור מספר בתוך [1, 5, 10, 15, 16, 18, 26, 100, 248, 613]:
    הדפס("  " + מחרוזת(מספר) + " = " + מספר_לעברי(מספר) + "\"")

# ===== 8. אות ראשונה גדולה (Capitalization) - מושג לועזי =====
הדפס("\n8️⃣ עיבוד טקסט מעורב:")
הדפס("═" * 40)

הגדר הפרד_שפות(טקסט):
    """הפרדת טקסט לפי שפות"""
    עברי = ""
    אנגלי = ""
    אחר = ""
    
    עבור תו בתוך טקסט:
        קוד = ord(תו)
        אם 0x05D0 <= קוד <= 0x05EA:
            עברי = עברי + תו
        אחרת_אם (65 <= קוד <= 90) או (97 <= קוד <= 122):
            אנגלי = אנגלי + תו
        אחרת:
            אחר = אחר + תו
    
    החזר {"עברית": עברי, "אנגלית": אנגלי, "אחר": אחר}

טקסט_מעורב = "Hello שלום World עולם 123 !@#"
חלקים = הפרד_שפות(טקסט_מעורב)
הדפס("טקסט מקורי: " + טקסט_מעורב)
הדפס("חלק עברי: " + חלקים["עברית"])
הדפס("חלק אנגלי: " + חלקים["אנגלית"])
הדפס("תווים אחרים: " + חלקים["אחר"])

# ===== 9. נתונים סטטיסטיים על טקסט עברי =====
הדפס("\n9️⃣ סטטיסטיקות טקסט:")
הדפס("═" * 40)

הגדר נתח_טקסט(טקסט):
    """ניתוח סטטיסטי של טקסט"""
    סטטיסטיקות = {
        "סה_כ_תווים": אורך(טקסט),
        "אותיות_עבריות": 0,
        "אותיות_אנגליות": 0,
        "ספרות": 0,
        "רווחים": 0,
        "אחר": 0
    }
    
    תדירות = {}
    
    עבור תו בתוך טקסט:
        קוד = ord(תו)
        
        # ספירה לפי סוג
        אם 0x05D0 <= קוד <= 0x05EA:
            סטטיסטיקות["אותיות_עבריות"] = סטטיסטיקות["אותיות_עבריות"] + 1
        אחרת_אם (65 <= קוד <= 90) או (97 <= קוד <= 122):
            סטטיסטיקות["אותיות_אנגליות"] = סטטיסטיקות["אותיות_אנגליות"] + 1
        אחרת_אם 48 <= קוד <= 57:
            סטטיסטיקות["ספרות"] = סטטיסטיקות["ספרות"] + 1
        אחרת_אם תו == " ":
            סטטיסטיקות["רווחים"] = סטטיסטיקות["רווחים"] + 1
        אחרת:
            סטטיסטיקות["אחר"] = סטטיסטיקות["אחר"] + 1
        
        # ספירת תדירות
        אם האם_אות_עברית(תו):
            אם תו בתוך תדירות:
                תדירות[תו] = תדירות[תו] + 1
            אחרת:
                תדירות[תו] = 1
    
    החזר {"סטטיסטיקות": סטטיסטיקות, "תדירות": תדירות}

טקסט_לניתוח = "שלום עולם! Hello World 123"
ניתוח = נתח_טקסט(טקסט_לניתוח)

הדפס("טקסט: \"" + טקסט_לניתוח + "\"")
הדפס("\nסטטיסטיקות:")
עבור מפתח בתוך ניתוח["סטטיסטיקות"]:
    הדפס("  " + מפתח + ": " + מחרוזת(ניתוח["סטטיסטיקות"][מפתח]))

הדפס("\nתדירות אותיות עבריות:")
עבור אות בתוך ניתוח["תדירות"]:
    הדפס("  " + אות + ": " + מחרוזת(ניתוח["תדירות"][אות]))

הדפס("\n✨ סיום דוגמת יוניקוד ותמיכה בעברית!")

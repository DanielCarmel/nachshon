# דוגמה 17: מעטרים (Decorators)
# Example 17: Decorators

# מעטר בסיסי - מדפיס לפני ואחרי קריאה לפונקציה
הגדר מעטר_הדפסה(פונקציה):
    הגדר עוטפת():
        הדפס("לפני קריאה לפונקציה")
        תוצאה = פונקציה()
        הדפס("אחרי קריאה לפונקציה")
        החזר תוצאה
    החזר עוטפת

@מעטר_הדפסה
הגדר שלום():
    הדפס("שלום, עולם!")

הדפס("--- קריאה לפונקציה מעוטרת ---")
שלום()

# מעטר עם פרמטר
הגדר חזור(פעמים):
    הגדר מעטר(פונקציה):
        הגדר עוטפת():
            עבור i בתוך טווח(פעמים):
                פונקציה()
        החזר עוטפת
    החזר מעטר

@חזור(3)
הגדר הדפס_הודעה():
    הדפס("הודעה!")

הדפס("--- הדפסה 3 פעמים ---")
הדפס_הודעה()

# מעטר שמחזיר ערך כפול
הגדר כפול(פונקציה):
    הגדר עוטפת(x):
        החזר פונקציה(x) * 2
    החזר עוטפת

@כפול
הגדר ריבוע(x):
    החזר x * x

הדפס("--- ריבוע כפול ---")
הדפס("ריבוע כפול של 5:", ריבוע(5))
